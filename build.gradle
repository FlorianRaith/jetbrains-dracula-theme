plugins {
    id 'org.jetbrains.intellij' version '0.4.9'
}

group 'com.vermouthx'
version '1.4.6'

repositories {
    mavenCentral()
}

intellij {
    version 'LATEST-EAP-SNAPSHOT'
}

patchPluginXml {
    sinceBuild '192'
    untilBuild '192.*'

    def changelogPath = "${project.buildDir}/CHANGELOG.html"
    def readmePath = "${project.buildDir}/README.html"

    if (file(changelogPath).exists()) {
        changeNotes file(changelogPath).text
    }
    if (file(readmePath).exists()) {
        pluginDescription file(readmePath).text
    }
}

publishPlugin {
    username System.getProperty('jetbrains.username')
    token System.getProperty('jetbrains.token')
}